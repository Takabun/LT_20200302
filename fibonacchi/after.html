<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <p>fibonacchi関数のうち1つをWorkerスレッドへ移譲。performanceを記録してから下記ボタンをクリック</p>
    <button type="text" classs="button" id="button">
    <script>
        window.addEventListener('message', event => {
            // if(event.origin !== 'https://example.com') {
            //     console.log(event)
            //     return;
            // }
            //Workerに移譲した処理結果を出力する
            console.log(event.data);
        });

        const button = document.querySelector('button');
        
        button.addEventListener('click', event => {
            window.postMessage({
                command: 'fibonacchi',
                number: 40
            });;
            const result = fibonacchi(40);
            console.log(result)
        })

    </script>
    <script src="worker.js"></script>
  </body>
</html>
